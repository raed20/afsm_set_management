<odoo>
    <data noupdate="1">
        <!-- Action Server pour ajouter un produit -->
        <record id="action_add_product" model="ir.actions.server">
            <field name="name">Add Product</field>
            <field name="model_id" ref="model_product_set"/>
            <field name="state">code</field>
            <field name="code">
                if record:
                    env['product.set'].add_product(
                        set_id=record.id,
                        product_id=context.get('default_product_id'),
                        quantity=context.get('default_quantity'),
                        unit_id=context.get('default_unit_id'),
                        reference_product_set_line=context.get('default_reference_product_set_line')
                    )
            </field>
        </record>

        <!-- Action Server pour ajouter des produits Ã  partir d'un set -->
        <record id="action_add_set" model="ir.actions.server">
            <field name="name">Add Set</field>
            <field name="model_id" ref="model_product_set"/>
            <field name="state">code</field>
            <field name="code">
                if record:
                    env['product.set'].add_set(
                        current_set_id=record.id,
                        selected_set_id=context.get('default_selected_set_id')
                    )
            </field>
        </record>
    </data>
</odoo>
